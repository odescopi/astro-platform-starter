---
// src/components/Analytics.astro
---

<!-- Load the analytics script -->
<script src="/analytics.js" defer></script>

<!-- Track specific elements -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Track demo button clicks
    const demoButtons = document.querySelectorAll('a[href*="demo@getinsightstream.com"]');
    demoButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        if (typeof trackEvent === 'function') {
          trackEvent('cta_click', {
            cta_type: 'request_demo',
            cta_text: btn.textContent.trim(),
            cta_position: 'hero'
          });
        }
        // Continue with original link behavior after tracking
        setTimeout(() => {
          window.location.href = btn.href;
        }, 100);
      });
    });
  });
</script>
